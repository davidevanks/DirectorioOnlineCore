function Formater(){this.formatIntegerString=function(n){n=(n||"").trim();var t=/^[\-]/.test(n),i=n.length>1?n.replace(/[^0-9]/g,"").replace(/^0+/,""):n.replace(/[^0-9]/g,"");return(t?"-":"")+i.replace(/(?!\b)(\d{3}(?=(\d{3})*\b))/g,$params.uiThousandSeparator+"$1")};this.unformatIntegerString=function(n){n=(n||"").trim();var t=/^[\-]/.test(n),i=n.length>1?n.replace(/[^0-9]/g,"").replace(/^0+/,""):n.replace(/[^0-9]/g,"");return(t?"-":"")+i};this.formatDecimalString=function(n){var t,i,r;return n=(n||"").trim(),n.length-(n.indexOf($params.csDecimalSeparator)+1)<=2&&(n=n.replace($params.csDecimalSeparator,$params.uiDecimalSeparator)),t=n.lastIndexOf($params.uiDecimalSeparator),i="",t>-1&&(i=$params.uiDecimalSeparator+n.substring(t,t+3).replaceAll($params.uiDecimalSeparator,""),n=n.substring(0,t)),r=$formater.formatIntegerString(n),r.length===0&&i.length>0&&(r="0"),r+i};this.unformatDecimalString=function(n,t){var f,r;t=t||$params.csDecimalSeparator;n=(n||"").trim();var e=/^[\-]/g.test(n),i=n.indexOf($params.uiDecimalSeparator),u="";return i>-1&&(u=n.substring(i,i+3),n=n.substring(0,i)),f=n.length>1?n.replace(/[^0-9]/g,"").replace(/^0+/,""):n.replace(/[^0-9]/g,""),r=f.replace(/[^0-9]+$/g,""),r.length===0&&u.length>0&&(r="0"),(e?"-":"")+r+u.replace($params.uiDecimalSeparator,t)};this.dateFromString=function(n,t){return t=t||$regexp.DateFormatMMDDYYYY,moment(n,t).toDate()};this.formatDateTimeToString=function(n,t,i){return moment.isMoment(n)?moment(n).format(t):typeof n=="string"?moment(n,i).format(t):moment(n).format(t)};this.formatEntry=function(n,t){var i=$(n).val(),r=$attr.dataMasktype(n);switch(r){case"integer":i=t==="mask"?$formater.formatIntegerString(i):$formater.unformatIntegerString(i);break;case"decimal":i=t==="mask"?$formater.formatDecimalString(i):$formater.unformatDecimalString(i,$params.csDecimalSeparator);break;case"date":i&&(i=$formater.formatDateTimeToString(i,$regexp.DateFormatDDMMYYYY,$regexp.DateFormatDDMMYYYY));break;case"timespan":i&&(i=t==="mask"?$formater.formatDateTimeToString(i,$regexp.DateFormathhmmA,$regexp.DateFormatHHmmss):$formater.formatDateTimeToString(i,$regexp.DateFormatHHmmss,$regexp.DateFormathhmmA));break;case"datetime":i&&(i=t==="mask"?$formater.formatDateTimeToString(i,$regexp.DateFormatDDMMYYYY_hhmmA,$regexp.DateFormatDDMMYYYY_HHmmss):$formater.formatDateTimeToString(i,$regexp.DateFormatDDMMYYYY_HHmmss,$regexp.DateFormatDDMMYYYY_hhmmA))}return i}}if(typeof $regexp=="undefined")throw new"El m√≥dulo Regexp.js no ha sido importado.";var $formater=new Formater;