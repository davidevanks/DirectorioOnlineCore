function Form(){this.onSubmit=function(n,t,i){n.preventDefault();var u=n.target,r="";if(t=t||$save,$form.isValid(u)){switch(t){case $save:r="confirmSave";break;case $edit:r="confirmEdit";break;case $aprobar:r="confirmAprobar";break;case $delete:r="confirmDelete";break;case $download:r="confirmDownload";break;case $send:r="confirmSend";break;default:throw"Type: "+t+". Tipo de submit no contemplado.";}$alert[r].call().then(function(n){n===!0?i(u,!0):n.value?i(u,!0):i(u,!1)})}};this.nativeSubmit=function(n){$form.unformattingMasks(n);n.submit();$form.formattingMasks(n)};this.xhrSubmit=function(n){var t=new XHROptions,u,i,r;$.extend(t,n);u=window.location.href;i=new XMLHttpRequest;i.open(n.form.method,n.form.action,!0);i.onreadystatechange=function(){i.readyState===4&&i.status===200?typeof t.success!="undefined"&&t.success(i):i.readyState===4&&i.status!==200&&typeof t.error!="undefined"&&t.error(i);typeof t.change!="undefined"&&t.change(i)};r={};r=typeof t.formData=="undefined"?$form.getFormData(t.form):typeof t.formData=="function"?t.formData.call():t.formData;i.send(r)};this.isValid=function(n){return typeof $.validator!="undefined"?$(n).valid():!0};this.unformattingMasks=function(n){$(n).find("input[data-val-masktype]").each(function(n,t){var i=$formater.formatEntry(t,"unmask");$(t).val(i)})};this.formattingMasks=function(n){$(n).find("input[data-val-masktype]").each(function(n,t){var i=$formater.formatEntry(t,"mask");$(t).val(i);$(t).keyup()})};this.getFormData=function(n){$form.unformattingMasks(n);var t=new FormData(n);return $form.formattingMasks(n),t};this.recreateUnobtrosive=function(n,t,i){t=t||!1;var r=$(n).removeData("validator").removeData("unobtrusiveValidation");$.validator.defaults.ignore=i?".data-val-ignore":":hidden, .data-val-ignore";$.validator.unobtrusive.parse(r);t&&$validations.DataValRequiredIndicatorForm(n)};this.typeForm=function(n){var t=-1;switch(n){case TipoTransaccion_Insertar:t=$save;break;case TipoTransaccion_Modificar:t=$edit;break;case TipoTransaccion_Eliminar:t=$delete;break;case TipoTransaccion_Duplicar:t=$save;break;default:t=-1}return t}}function XHRCallback(){}function ConfirmCallback(){}function XHROptions(n,t,i,r,u){this.form=n;this.success=t;this.error=i;this.change=r;this.formData=u}if(typeof $alert=="undefined")throw new"El módulo alerts.js no ha sido importado.";if(typeof $formater=="undefined")throw new"El módulo format.js no ha sido importado.";const $save=0,$edit=1,$delete=2,$download=3,$send=4;$aprobar=5;const $form=new Form;