@using DataAccess.Repository.IRepository;
@inject IUnitOfWork _unitOfWork;
@model Models.ViewModels.LookForBusinessViewModel;
@{
    ViewData["Title"] = "Home Page";
}

<section class="banner" style="        background-image: url(../img/background/tiendas_comercio_ventas_1.jpg);">
    <div class="container">
        <div class="row text-center align-items-center justify-content-center" style="height:440px;">
            <div class="col-12">
                <!-- Banner Info -->
                <div class="banner-info">
                    <h1 class="text-uppercase text-white mb-4">
                        Explora. Descubre. Comparte
                    </h1>
                    <p class="lead text-white">
                        Brújula Pyme te ayuda a encontrar increibles negocios a tu alrededor
                    </p>
                </div>

                <!-- Search Box -->
                <div class="search-box-2">
                    <form class="row g-2 justify-content-center" asp-area="Negocios" asp-controller="Negocios" asp-action="LookForBusiness" method="POST">

                        <div class="form-group col-md-5 col-lg-4 mb-0">
                            <div class="input-group mb-2">
                                <div class="input-group-text">Buscar</div>
                                <input asp-for="Search" type="text" class="form-control" placeholder="Que estas buscando?">
                            </div>
                        </div>

                        <div class="form-group prepend-append col-md-5 col-lg-4 mb-0">
                            <div class="input-group mb-2">
                                <div class="input-group-text">Cerca de</div>
                                @Html.DropDownListFor(m => m.IdDepartamento, Model.Departamentos, "- SELECCIONA UN DEPARTAMENTO -", new { @class = "form-control" })
                            </div>
                        </div>

                        <div class="form-group col-md-3 col-lg-2 mb-0">
                            <button type="submit" class="btn btn-primary w-100">
                                Buscar
                                <i class="fas fa-search" aria-hidden="true"></i>
                            </button>
                        </div>
                        <input type="hidden" id="lonF" />
                        <input type="hidden" id="latF" />
                    </form>
                </div>
            </div>
        </div>
    </div>

</section>
<section class="pt-md-10 sec-pb-70 pt-8 pb-6 bg-light">
    <div class="container">
        <div class="section-title">
            <h2>Que te interesa encontrar?</h2>
            <p>Explora y conecta con negocios locales</p>
        </div>
        <div class="row">

            @foreach (var item in _unitOfWork.Category.GetAll().Where(x => x.IdPadre == 1 && x.Activo == true).ToList())
            {
                <div class="col-md-4 col-lg-3 col-xs-12">
                    <a class="card py-5 hover-bg-primary bg-transparent"  asp-area="Negocios" asp-controller="Negocios" asp-route-categoryId="@item.Id" asp-action="LookForBusinessByCategory">
                        <div class="card-body text-center">
                            @*<div class="icon-md">
                            <i class="icon-listy icon-tea-cup-1"></i>
                        </div>*@
                            <span class="h5">@item.Nombre</span>
                        </div>
                    </a>
                </div>
            }



            <div class="col-md-4 col-lg-3 col-xs-12">
                <a class="card py-5 hover-bg-primary bg-transparent" href="listings-half-screen-map-list.html">
                    <div class="card-body text-center">
                        @*<div class="icon-md">
                        <i class="icon-listy icon-more"></i>
                    </div>*@
                        <span class="h5">Ver todo</span>
                    </div>
                </a>
            </div>
        </div>
    </div>
</section>


<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDpu1uIOHN3nx3y6dzStDmtSZD83-Jebx0&sensor=false&libraries=places"></script>
@*<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDpu1uIOHN3nx3y6dzStDmtSZD83-Jebx0&callback=initMap"></script>*@

